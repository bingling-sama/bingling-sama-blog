{"remainingRequest":"E:\\bingling-sama-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\bingling-sama-blog\\node_modules\\vue-disqus\\src\\vue-disqus.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\bingling-sama-blog\\node_modules\\vue-disqus\\src\\vue-disqus.vue","mtime":1609037234562},{"path":"E:\\bingling-sama-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1608470252416},{"path":"E:\\bingling-sama-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1608905603205},{"path":"E:\\bingling-sama-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1608470252416},{"path":"E:\\bingling-sama-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1608905605904}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndnVlLWRpc3F1cycsCiAgcHJvcHM6IHsKICAgIHNob3J0bmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgaWRlbnRpZmllcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKICAgIHVybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKICAgIHRpdGxlOiB7CiAgICAgdHlwZTogU3RyaW5nLAogICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKICAgIHJlbW90ZV9hdXRoX3MzOiB7CiAgICAgdHlwZTogU3RyaW5nLAogICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKICAgIGFwaV9rZXk6IHsKICAgICB0eXBlOiBTdHJpbmcsCiAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgc3NvX2NvbmZpZzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfSwKICAgIGxhbmd1YWdlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIGlmICh3aW5kb3cuRElTUVVTKSB7CiAgICAgIHRoaXMucmVzZXQod2luZG93LkRJU1FVUykKICAgICAgcmV0dXJuCiAgICB9CiAgICB0aGlzLmluaXQoKQogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXQgKGRzcSkgewogICAgICBjb25zdCBzZWxmID0gdGhpcwogICAgICBkc3EucmVzZXQoewogICAgICAgIHJlbG9hZDogdHJ1ZSwKICAgICAgICBjb25maWc6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHNlbGYuc2V0QmFzZUNvbmZpZyh0aGlzKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBpbml0ICgpIHsKICAgICAgY29uc3Qgc2VsZiA9IHRoaXMKICAgICAgd2luZG93LmRpc3F1c19jb25maWcgPSBmdW5jdGlvbigpIHsKICAgICAgICBzZWxmLnNldEJhc2VDb25maWcodGhpcykKICAgICAgfQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBsZXQgZCA9IGRvY3VtZW50CiAgICAgICAgICAsIHMgPSBkLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpCiAgICAgICAgcy5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2VtYmVkLWRpc3F1cycpCiAgICAgICAgcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdGltZXN0YW1wJywgK25ldyBEYXRlKCkpCiAgICAgICAgcy50eXBlID0gJ3RleHQvamF2YXNjcmlwdCcKICAgICAgICBzLmFzeW5jID0gdHJ1ZQogICAgICAgIHMuc3JjID0gYC8vJHt0aGlzLnNob3J0bmFtZX0uZGlzcXVzLmNvbS9lbWJlZC5qc2AKICAgICAgICA7KGQuaGVhZCB8fCBkLmJvZHkpLmFwcGVuZENoaWxkKHMpCiAgICAgIH0sIDApCiAgICB9LAogICAgc2V0QmFzZUNvbmZpZyAoZGlzcXVzQ29uZmlnKXsKICAgICAgZGlzcXVzQ29uZmlnLnBhZ2UuaWRlbnRpZmllciA9ICh0aGlzLmlkZW50aWZpZXIgfHwgdGhpcy4kcm91dGUucGF0aCB8fCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpCiAgICAgIGRpc3F1c0NvbmZpZy5wYWdlLnVybCA9ICh0aGlzLnVybCB8fCB0aGlzLiRlbC5iYXNlVVJJKQogICAgICBpZiAodGhpcy50aXRsZSl7CiAgICAgICAgZGlzcXVzQ29uZmlnLnBhZ2UudGl0bGUgPSB0aGlzLnRpdGxlOwogICAgICB9CiAgICAgIGlmICh0aGlzLnJlbW90ZV9hdXRoX3MzKXsKICAgICAgICBkaXNxdXNDb25maWcucGFnZS5yZW1vdGVfYXV0aF9zMyA9IHRoaXMucmVtb3RlX2F1dGhfczM7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuYXBpX2tleSl7CiAgICAgICAgZGlzcXVzQ29uZmlnLnBhZ2UuYXBpX2tleSA9IHRoaXMuYXBpX2tleTsKICAgICAgfQogICAgICBpZiAodGhpcy5zc29fY29uZmlnKXsKICAgICAgICBkaXNxdXNDb25maWcuc3NvID0gdGhpcy5zc29fY29uZmlnOwogICAgICB9CiAgICAgIGlmICh0aGlzLmxhbmd1YWdlKXsKICAgICAgICBkaXNxdXNDb25maWcubGFuZ3VhZ2UgPSB0aGlzLmxhbmd1YWdlOwogICAgICB9CgogICAgICBkaXNxdXNDb25maWcuY2FsbGJhY2tzLm9uUmVhZHkgPSBbKCkgPT4gewogICAgICAgIHRoaXMuJGVtaXQoJ3JlYWR5JykKICAgICAgfV0KICAgICAgCiAgICAgIGRpc3F1c0NvbmZpZy5jYWxsYmFja3Mub25OZXdDb21tZW50ID0gWyhjb21tZW50KSA9PiB7CiAgICAgICAgdGhpcy4kZW1pdCgnbmV3LWNvbW1lbnQnLCBjb21tZW50KQogICAgICB9XQogICAgfQogIH0KfQo="},{"version":3,"sources":["vue-disqus.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"vue-disqus.vue","sourceRoot":"node_modules/vue-disqus/src","sourcesContent":["<template>\r\n  <div id=\"disqus_thread\"></div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'vue-disqus',\r\n    props: {\r\n      shortname: {\r\n        type: String,\r\n        required: true\r\n      },\r\n      identifier: {\r\n        type: String,\r\n        required: false\r\n      },\r\n      url: {\r\n        type: String,\r\n        required: false\r\n      },\r\n      title: {\r\n       type: String,\r\n       required: false\r\n      },\r\n      remote_auth_s3: {\r\n       type: String,\r\n       required: false\r\n      },\r\n      api_key: {\r\n       type: String,\r\n       required: false\r\n      },\r\n      sso_config: {\r\n        type: Object,\r\n        required: false\r\n      },\r\n      language: {\r\n        type: String,\r\n        required: false\r\n      }\r\n    },\r\n    mounted () {\r\n      if (window.DISQUS) {\r\n        this.reset(window.DISQUS)\r\n        return\r\n      }\r\n      this.init()\r\n    },\r\n    methods: {\r\n      reset (dsq) {\r\n        const self = this\r\n        dsq.reset({\r\n          reload: true,\r\n          config: function () {\r\n            self.setBaseConfig(this)\r\n          }\r\n        })\r\n      },\r\n      init () {\r\n        const self = this\r\n        window.disqus_config = function() {\r\n          self.setBaseConfig(this)\r\n        }\r\n        setTimeout(() => {\r\n          let d = document\r\n            , s = d.createElement('script')\r\n          s.setAttribute('id', 'embed-disqus')\r\n          s.setAttribute('data-timestamp', +new Date())\r\n          s.type = 'text/javascript'\r\n          s.async = true\r\n          s.src = `//${this.shortname}.disqus.com/embed.js`\r\n          ;(d.head || d.body).appendChild(s)\r\n        }, 0)\r\n      },\r\n      setBaseConfig (disqusConfig){\r\n        disqusConfig.page.identifier = (this.identifier || this.$route.path || window.location.pathname)\r\n        disqusConfig.page.url = (this.url || this.$el.baseURI)\r\n        if (this.title){\r\n          disqusConfig.page.title = this.title;\r\n        }\r\n        if (this.remote_auth_s3){\r\n          disqusConfig.page.remote_auth_s3 = this.remote_auth_s3;\r\n        }\r\n        if (this.api_key){\r\n          disqusConfig.page.api_key = this.api_key;\r\n        }\r\n        if (this.sso_config){\r\n          disqusConfig.sso = this.sso_config;\r\n        }\r\n        if (this.language){\r\n          disqusConfig.language = this.language;\r\n        }\r\n\r\n        disqusConfig.callbacks.onReady = [() => {\r\n          this.$emit('ready')\r\n        }]\r\n        \r\n        disqusConfig.callbacks.onNewComment = [(comment) => {\r\n          this.$emit('new-comment', comment)\r\n        }]\r\n      }\r\n    }\r\n  }\r\n</script>\r\n"]}]}