{"remainingRequest":"E:\\bingling-sama-blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\bingling-sama-blog\\node_modules\\vuepress-theme-modern-blog\\src\\components\\Toc.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\bingling-sama-blog\\node_modules\\vuepress-theme-modern-blog\\src\\components\\Toc.vue","mtime":1609037243858},{"path":"E:\\bingling-sama-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1608470252416},{"path":"E:\\bingling-sama-blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1608905603205},{"path":"E:\\bingling-sama-blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1608470252416},{"path":"E:\\bingling-sama-blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1608905605904}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdGlja2VyIGZyb20gJy4vU3RpY2tlci52dWUnCmxldCBpbml0VG9wCgovLyBnZXQgb2Zmc2V0IHRvcApmdW5jdGlvbiBnZXRBYnNvbHV0ZVRvcCAoZG9tKSB7CiAgcmV0dXJuIGRvbSAmJiBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0CiAgICA/IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKwogICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wICsKICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wCiAgICA6IDAKfQoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFN0aWNrZXIsCiAgfSwKCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVJbmRleDogMCwKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgdmlzaWJsZSAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgdGhpcy4kZnJvbnRtYXR0ZXIgJiYKICAgICAgICB0aGlzLiRmcm9udG1hdHRlci50b2MgIT09IGZhbHNlICYmCiAgICAgICAgISEodGhpcy4kcGFnZSAmJiB0aGlzLiRwYWdlLmhlYWRlcnMgJiYgdGhpcy4kcGFnZS5oZWFkZXJzLmxlbmd0aCkKICAgICAgKQogICAgfSwKICB9LAoKICB3YXRjaDogewogICAgYWN0aXZlSW5kZXggKCkgewogICAgICBjb25zdCBpdGVtcyA9IHRoaXMuJHJlZnMuY2hhaXJUb2NJdGVtIHx8IFtdCiAgICAgIGNvbnN0IGRvbSA9IGl0ZW1zW3RoaXMuYWN0aXZlSW5kZXhdCiAgICAgIGlmICghZG9tKSByZXR1cm4KICAgICAgY29uc3QgcmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgICBjb25zdCB3cmFwcGVyUmVjdCA9IHRoaXMuJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCiAgICAgIGNvbnN0IHRvcCA9IHJlY3QudG9wIC0gd3JhcHBlclJlY3QudG9wCiAgICAgIGlmICh0b3AgPCAyMCkgewogICAgICAgIHRoaXMuJGVsLnNjcm9sbFRvcCA9IHRoaXMuJGVsLnNjcm9sbFRvcCArIHRvcCAtIDIwCiAgICAgIH0gZWxzZSBpZiAodG9wICsgcmVjdC5oZWlnaHQgPiB3cmFwcGVyUmVjdC5oZWlnaHQpIHsKICAgICAgICB0aGlzLiRlbC5zY3JvbGxUb3AgKz0gcmVjdC50b3AgLSAod3JhcHBlclJlY3QuaGVpZ2h0IC0gcmVjdC5oZWlnaHQpCiAgICAgIH0KICAgIH0sCgogICAgJHJvdXRlICgpIHt9LAogIH0sCgogIG1vdW50ZWQgKCkgewogICAgLy8gc3luYyB2aXNpYmxlIHRvIHBhcmVudCBjb21wb25lbnQKICAgIGNvbnN0IHN5bmNWaXNpYmxlID0gKCkgPT4gewogICAgICB0aGlzLiRlbWl0KCd2aXNpYmxlLWNoYW5nZScsIHRoaXMudmlzaWJsZSkKICAgIH0KICAgIHN5bmNWaXNpYmxlKCkKICAgIHRoaXMuJHdhdGNoKCd2aXNpYmxlJywgc3luY1Zpc2libGUpCgogICAgLy8gYmluZGluZyBldmVudAogICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnRyaWdnZXJFdnQoKSwgMTAwMCkKCiAgICB0aGlzLl9vblNjcm9sbCA9ICgpID0+IHRoaXMub25TY3JvbGwoKQogICAgdGhpcy5fb25IYXNoQ2hhbmdlID0gKCkgPT4gewogICAgICBjb25zdCBoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKQogICAgICBjb25zdCBpbmRleCA9ICh0aGlzLiRwYWdlLmhlYWRlcnMgfHwgW10pLmZpbmRJbmRleChoID0+IGguc2x1ZyA9PT0gaGFzaCkKICAgICAgaWYgKGluZGV4ID49IDApIHRoaXMuYWN0aXZlSW5kZXggPSBpbmRleAogICAgICBjb25zdCBkb20gPSBoYXNoICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpCiAgICAgIGlmIChkb20pIHdpbmRvdy5zY3JvbGxUbygwLCBnZXRBYnNvbHV0ZVRvcChkb20pIC0gMjApCiAgICB9CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy50aHJvdHRsZSh0aGlzLl9vblNjcm9sbCwgNTAwKSkKICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fb25IYXNoQ2hhbmdlKTsKICB9LAoKICBiZWZvcmVEZXN0cm95ICgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCkKICAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJoYXNoY2hhbmdlIiwgdGhpcy5fb25IYXNoQ2hhbmdlKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICB0aHJvdHRsZSAoZnVuYywgbGltaXQpIHsKICAgICAgbGV0IGxhc3RGdW5jLCBsYXN0UmFuCiAgICAgIHJldHVybiAoKSA9PiB7CiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMKICAgICAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzCiAgICAgICAgaWYgKCFsYXN0UmFuKSB7CiAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpCiAgICAgICAgICBsYXN0UmFuID0gRGF0ZS5ub3coKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQobGFzdEZ1bmMpCiAgICAgICAgICBsYXN0RnVuYyA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBpZiAoKERhdGUubm93KCkgLSBsYXN0UmFuKSA+PSBsaW1pdCkgewogICAgICAgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncykKICAgICAgICAgICAgICBsYXN0UmFuID0gRGF0ZS5ub3coKQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBsaW1pdCAtIChEYXRlLm5vdygpIC0gbGFzdFJhbikpCiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIG9uU2Nyb2xsICgpIHsKICAgICAgaWYgKGluaXRUb3AgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGluaXRUb3AgPSBnZXRBYnNvbHV0ZVRvcCh0aGlzLiRlbCkKICAgICAgfQoKICAgICAgLy8gdXBkYXRlIHBvc2l0aW9uCiAgICAgIGNvbnN0IHNjcm9sbFRvcCA9CiAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wCiAgICAgIGNvbnN0IGhlYWRpbmdzID0gdGhpcy4kcGFnZS5oZWFkZXJzIHx8IFtdCgogICAgICAvLyBjaGFuZ2UgYWN0aXZlIHRvYyB3aXRoIHNjcm9sbGluZwogICAgICBsZXQgaSA9IDAKICAgICAgY29uc3QgYWRkTGluayA9IGluZGV4ID0+IHsKICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ID0gaW5kZXgKICAgICAgfQoKICAgICAgZm9yICg7IGkgPCBoZWFkaW5ncy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGRvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhlYWRpbmdzW2ldLnNsdWcpCiAgICAgICAgY29uc3QgdG9wID0gZ2V0QWJzb2x1dGVUb3AoZG9tKQogICAgICAgIGlmICh0b3AgLSA1MCA8IHNjcm9sbFRvcCkgewogICAgICAgICAgYWRkTGluayhpKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoIWkpIGFkZExpbmsoaSkKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIHRyaWdnZXJFdnQgKCkgewogICAgICB0aGlzLl9vblNjcm9sbCgpCiAgICAgIHRoaXMuX29uSGFzaENoYW5nZSgpCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["Toc.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Toc.vue","sourceRoot":"node_modules/vuepress-theme-modern-blog/src/components","sourcesContent":["<template>\n  <Sticker\n    v-if=\"visible\"\n    class=\"vuepress-toc\"\n    v-bind=\"$attrs\"\n  >\n    <div\n      v-for=\"(item, index) in $page.headers\"\n      ref=\"chairTocItem\"\n      :key=\"index\"\n      class=\"vuepress-toc-item\"\n      :class=\"[ `vuepress-toc-h${item.level}`, { active: activeIndex === index } ]\"\n    >\n      <a\n        :href=\"`#${item.slug}`\"\n        :title=\"item.title\"\n      >{{ item.title }}</a>\n    </div>\n  </Sticker>\n</template>\n\n<script>\nimport Sticker from './Sticker.vue'\nlet initTop\n\n// get offset top\nfunction getAbsoluteTop (dom) {\n  return dom && dom.getBoundingClientRect\n    ? dom.getBoundingClientRect().top +\n        document.body.scrollTop +\n        document.documentElement.scrollTop\n    : 0\n}\n\nexport default {\n  components: {\n    Sticker,\n  },\n\n  data () {\n    return {\n      activeIndex: 0,\n    }\n  },\n\n  computed: {\n    visible () {\n      return (\n        this.$frontmatter &&\n        this.$frontmatter.toc !== false &&\n        !!(this.$page && this.$page.headers && this.$page.headers.length)\n      )\n    },\n  },\n\n  watch: {\n    activeIndex () {\n      const items = this.$refs.chairTocItem || []\n      const dom = items[this.activeIndex]\n      if (!dom) return\n      const rect = dom.getBoundingClientRect()\n      const wrapperRect = this.$el.getBoundingClientRect()\n      const top = rect.top - wrapperRect.top\n      if (top < 20) {\n        this.$el.scrollTop = this.$el.scrollTop + top - 20\n      } else if (top + rect.height > wrapperRect.height) {\n        this.$el.scrollTop += rect.top - (wrapperRect.height - rect.height)\n      }\n    },\n\n    $route () {},\n  },\n\n  mounted () {\n    // sync visible to parent component\n    const syncVisible = () => {\n      this.$emit('visible-change', this.visible)\n    }\n    syncVisible()\n    this.$watch('visible', syncVisible)\n\n    // binding event\n    setTimeout(() => this.triggerEvt(), 1000)\n\n    this._onScroll = () => this.onScroll()\n    this._onHashChange = () => {\n      const hash = decodeURIComponent(location.hash.substring(1))\n      const index = (this.$page.headers || []).findIndex(h => h.slug === hash)\n      if (index >= 0) this.activeIndex = index\n      const dom = hash && document.getElementById(hash)\n      if (dom) window.scrollTo(0, getAbsoluteTop(dom) - 20)\n    }\n    window.addEventListener('scroll', this.throttle(this._onScroll, 500))\n    // window.addEventListener('hashchange', this._onHashChange);\n  },\n\n  beforeDestroy () {\n    window.removeEventListener('scroll', this._onScroll)\n    // window.removeEventListener(\"hashchange\", this._onHashChange);\n  },\n\n  methods: {\n    throttle (func, limit) {\n      let lastFunc, lastRan\n      return () => {\n        const context = this\n        const args = arguments\n        if (!lastRan) {\n          func.apply(context, args)\n          lastRan = Date.now()\n        } else {\n          clearTimeout(lastFunc)\n          lastFunc = setTimeout(() => {\n            if ((Date.now() - lastRan) >= limit) {\n              func.apply(context, args)\n              lastRan = Date.now()\n            }\n          }, limit - (Date.now() - lastRan))\n        }\n      }\n    },\n\n    onScroll () {\n      if (initTop === undefined) {\n        initTop = getAbsoluteTop(this.$el)\n      }\n\n      // update position\n      const scrollTop =\n        document.body.scrollTop + document.documentElement.scrollTop\n      const headings = this.$page.headers || []\n\n      // change active toc with scrolling\n      let i = 0\n      const addLink = index => {\n        this.activeIndex = index\n      }\n\n      for (; i < headings.length; i++) {\n        const dom = document.getElementById(headings[i].slug)\n        const top = getAbsoluteTop(dom)\n        if (top - 50 < scrollTop) {\n          addLink(i)\n        } else {\n          if (!i) addLink(i)\n          break\n        }\n      }\n    },\n\n    triggerEvt () {\n      this._onScroll()\n      this._onHashChange()\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n.table-of-contents {\n  display: none !important;\n}\n\n.vuepress-toc {\n  display: none;\n  max-height: 100vh;\n  max-width: 220px;\n  overflow-y: auto;\n  padding-top: 2rem;\n  box-sizing: border-box;\n  /* background: #fff; */\n  z-index: 0;\n\n  .vuepress-toc-item {\n    position: relative;\n    padding: 0.1rem 0.6rem 0.1rem 1.5rem;\n    line-height: 1.5rem;\n    border-left: 1px solid rgba(0, 0, 0, 0.08);\n    overflow: hidden;\n\n    a {\n      display: block;\n      color: #2c3e50;\n      width: 100%;\n      box-sizing: border-box;\n      font-size: 12px;\n      font-weight: 400;\n      text-decoration: none;\n      transition: color 0.3s;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    &.active {\n      border-left-color: $accentColor;\n\n      a {\n        color: $accentColor;\n      }\n    }\n\n    &:hover {\n      a {\n        color: $accentColor;\n      }\n    }\n  }\n\n  for i in range(3, 6) {\n    .vuepress-toc-h{i} a {\n      padding-left: 1rem * (i - 2);\n    }\n  }\n}\n\n// for vuepress-toc\n@media (min-width: 1300px) {\n  .vuepress-toc {\n    display: block;\n  }\n}\n</style>\n"]}]}